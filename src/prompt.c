#include <stdio.h>
#include <stdbool.h>
#include <string.h>

#include "prompt.h"

status_t do_command(const char* in) {
    if (strcmp("q", in) || strcmp("quit", in)) {
        return QUIT;
    }
    return QUIT;
}

int main(int argc, char** argv) {
    // get initial vault and node
    char vault[MAX_NAME];
    vault[0] = '\0';
    char node[MAX_NAME];
    node[0] = '\0';

    bool is_running = true;
    char in[MAX_IN];
    while (is_running) {
        // prompt
        printf("MDTool(%s %s): ", vault, node);
        scanf("%7s", in);

        // parse and run
        switch(do_command(in)) {
            case QUIT:
                is_running = false;
                break;
            case SUCCESS:
                break;
            case ERROR:
                printf("Invalid command\n");
                break;
        }
    }

    return 0;
}
